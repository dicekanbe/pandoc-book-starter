# Pandoc Book Starter

Pandocã‚’ä½¿ç”¨ã—ãŸæŠ€è¡“æ›¸åŸ·ç­†ã®ãŸã‚ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

## æ¦‚è¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Pandocã‚’ä½¿ã£ã¦åŠ¹ç‡çš„ã«æŠ€è¡“æ›¸ã‚’åŸ·ç­†ãƒ»å‡ºç‰ˆã™ã‚‹ãŸã‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚Markdownã§æ›¸ã„ãŸåŸç¨¿ã‚’ã€EPUBã€PDFã€HTMLãªã©è¤‡æ•°ã®å½¢å¼ã«å¤‰æ›ã§ãã¾ã™ã€‚

## ç‰¹å¾´

- ğŸ“ **Markdownãƒ™ãƒ¼ã‚¹ã®åŸ·ç­†**: ã‚·ãƒ³ãƒ—ãƒ«ãªMarkdownè¨˜æ³•ã§åŸ·ç­†
- ğŸŒ **å¤šè¨€èªå¯¾å¿œ**: æ—¥æœ¬èªãƒ»è‹±èªãªã©è¤‡æ•°è¨€èªã«å¯¾å¿œ
- ğŸ“š **è¤‡æ•°å‡ºåŠ›å½¢å¼**: EPUBã€PDFã€HTMLå‡ºåŠ›ã‚’ã‚µãƒãƒ¼ãƒˆ
- ğŸ¨ **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¹ã‚¿ã‚¤ãƒ«**: CSSã€Luaãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã«ã‚ˆã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
- ğŸ”„ **CI/CDå¯¾å¿œ**: GitHub Actionsã«ã‚ˆã‚‹è‡ªå‹•ãƒ“ãƒ«ãƒ‰
- ğŸ“– **è¤‡æ•°å·»å¯¾å¿œ**: ã‚·ãƒªãƒ¼ã‚ºæœ¬ã®ç®¡ç†ãŒå¯èƒ½

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
pandoc-book-starter/
â”œâ”€ README.md              # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€ Makefile              # ãƒ“ãƒ«ãƒ‰è‡ªå‹•åŒ–
â”œâ”€ Dockerfile            # ã‚³ãƒ³ãƒ†ãƒŠç’°å¢ƒ
â”œâ”€ .textlintrc           # æ–‡ç« æ ¡æ­£è¨­å®š
â”œâ”€ .gitignore            # Gité™¤å¤–è¨­å®š
â”œâ”€ .github/
â”‚  â””â”€ workflows/
â”‚     â””â”€ build.yml       # GitHub Actionsè¨­å®š
â”œâ”€ shared/               # å…±æœ‰ãƒªã‚½ãƒ¼ã‚¹
â”‚  â”œâ”€ assets/           # ã‚¹ã‚¿ã‚¤ãƒ«ã¨ãƒ•ã‚©ãƒ³ãƒˆ
â”‚  â”‚  â”œâ”€ epub.css       # EPUBç”¨CSS
â”‚  â”‚  â”œâ”€ web.css        # Webç”¨CSS
â”‚  â”‚  â””â”€ fonts/         # ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”‚  â””â”€ filters/          # Pandocãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
â”‚     â”œâ”€ autoid.lua     # è‡ªå‹•IDä»˜ä¸
â”‚     â””â”€ mermaid.lua    # Mermaidå›³è¡¨å¯¾å¿œ
â”œâ”€ vol1/                # ç¬¬1å·»
â”‚  â”œâ”€ src/              # åŸç¨¿ãƒ•ã‚¡ã‚¤ãƒ«
â”‚  â”‚  â”œâ”€ ja/            # æ—¥æœ¬èªç‰ˆ
â”‚  â”‚  â””â”€ en/            # è‹±èªç‰ˆ
â”‚  â”œâ”€ assets/           # å·»å›ºæœ‰ã®ã‚¢ã‚»ãƒƒãƒˆ
â”‚  â””â”€ meta/             # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
â””â”€ vol2/                # ç¬¬2å·»ï¼ˆæ‹¡å¼µç”¨ï¼‰
```

## å¿…è¦ãªç’°å¢ƒ

### åŸºæœ¬ç’°å¢ƒ

- [Pandoc](https://pandoc.org/) 3.7ä»¥é™
- [Make](https://www.gnu.org/software/make/)
- [Node.js](https://nodejs.org/) ï¼ˆtextlintç”¨ï¼‰

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç’°å¢ƒ

- [Docker](https://www.docker.com/) ï¼ˆã‚³ãƒ³ãƒ†ãƒŠä½¿ç”¨æ™‚ï¼‰
- [TeX Live](https://www.tug.org/texlive/) ï¼ˆPDFå‡ºåŠ›æ™‚ï¼‰
- [Mermaid CLI](https://github.com/mermaid-js/mermaid-cli) ï¼ˆå›³è¡¨ç”Ÿæˆæ™‚ï¼‰

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/yourusername/pandoc-book-starter.git
cd pandoc-book-starter
```

### 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# textlintã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g textlint
npm install -g textlint-rule-preset-ja-technical-writing
npm install -g textlint-rule-preset-ja-spacing
npm install -g textlint-rule-prh
```

### 3. ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ

```bash
# å…¨ã¦ã®å½¢å¼ã§ãƒ“ãƒ«ãƒ‰
make build-all

# æ—¥æœ¬èªç‰ˆã®ã¿ãƒ“ãƒ«ãƒ‰
make build-ja

# è‹±èªç‰ˆã®ã¿ãƒ“ãƒ«ãƒ‰
make build-en
```

### 4. å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª

ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ `build/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

## åŸ·ç­†ã‚¬ã‚¤ãƒ‰

### åŸç¨¿ã®æ›¸ãæ–¹

1. `vol1/src/ja/` ã¾ãŸã¯ `vol1/src/en/` ã«Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®
2. ãƒ•ã‚¡ã‚¤ãƒ«åã¯ç« ç•ªå·ã§å§‹ã‚ã‚‹ï¼ˆä¾‹: `01_theme.md`, `02_keyword.md`ï¼‰
3. è¦‹å‡ºã—ã¯ `#` ã‹ã‚‰é–‹å§‹

### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®è¨­å®š

`vol1/meta/ja.yaml` ã¾ãŸã¯ `vol1/meta/en.yaml` ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®šï¼š

```yaml
title: "æ›¸ç±ã‚¿ã‚¤ãƒˆãƒ«"
author: "è‘—è€…å"
date: "å‡ºç‰ˆæ—¥"
description: "æ›¸ç±ã®èª¬æ˜"
```

### ã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

- EPUBç”¨: `shared/assets/epub.css`
- Webç”¨: `shared/assets/web.css`
- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: `shared/filters/*.lua`

## Dockerä½¿ç”¨

```bash
# ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰
docker build -t pandoc-book .

# ã‚³ãƒ³ãƒ†ãƒŠã§ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ
docker run --rm -v $(pwd):/workspace pandoc-book make build-all
```

## CI/CD

GitHub ActionsãŒè‡ªå‹•çš„ã«ï¼š

1. ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«textlintã«ã‚ˆã‚‹æ ¡æ­£ã‚’å®Ÿè¡Œ
2. å…¨å½¢å¼ã§ã®ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œ
3. æˆæœç‰©ã‚’ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã¨ã—ã¦ä¿å­˜

## ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### æ–°ã—ã„å·»ã®è¿½åŠ 

1. `vol2/`, `vol3/` ãªã©ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
2. `vol1/` ã¨åŒã˜æ§‹é€ ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®
3. `Makefile` ã«ãƒ“ãƒ«ãƒ‰ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’è¿½åŠ 

### å‡ºåŠ›å½¢å¼ã®è¿½åŠ 

1. PandocãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹å½¢å¼ã‚’ `Makefile` ã«è¿½åŠ 
2. å¿…è¦ã«å¿œã˜ã¦CSSã‚„ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ä½œæˆ

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **ãƒ•ã‚©ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã„**: `shared/assets/fonts/` ã«é©åˆ‡ãªãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®
2. **Mermaidå›³è¡¨ãŒè¡¨ç¤ºã•ã‚Œãªã„**: `mermaid-cli` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3. **PDFç”Ÿæˆã‚¨ãƒ©ãƒ¼**: TeX Liveã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ãƒ­ã‚°ã®ç¢ºèª

```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§ãƒ“ãƒ«ãƒ‰
make build-ja PANDOC_OPTS="--verbose"
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯ [LICENSE](LICENSE) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§

## è²¢çŒ®

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„ã‚¤ã‚·ãƒ¥ãƒ¼ã®å ±å‘Šã‚’æ­“è¿ã—ã¾ã™ã€‚

## å‚è€ƒè³‡æ–™

- [Pandoc User's Guide](https://pandoc.org/MANUAL.html)
- [Markdownè¨˜æ³•](https://www.markdownguide.org/)
- [textlint](https://textlint.github.io/)
- [GitHub Actions](https://docs.github.com/en/actions)